{"version":3,"sources":["pages/MovieDetailsPage/MovieDetailsPage.module.css","components/Navigation/Navigation.module.css","services/api.js","pages/HomePage/HomePage.js","components/SearchBar/SearchBar.js","pages/MoviesPage/MoviesPage.js","routes.js","pages/NotFoundPage/NotFoundPage.js","components/Navigation/Navigation.js","pages/Cast/Cast.js","pages/Reviews/Reviews.js","pages/MovieDetailsPage/MovieDetailsPage.js","components/App.js","index.js"],"names":["module","exports","keyQ","getHomePage","axios","get","getMoviesPage","query","getMovieDetailsPage","id","getCast","getReview","HomePage","state","trends","findHomePage","API","then","resData","setState","data","results","this","map","el","key","to","title","name","Component","SearchBar","value","onChange","e","target","onSubmit","props","preventDefault","type","MoviesPage","shows","findMoviesPage","q","res","onSearchSubmit","history","location","push","search","currentSearch","URLSearchParams","prevProps","prevSearch","NotFoundPage","routes","Navigation","className","s","navigationList","activeClassName","activeLink","Cast","casts","findCast","movieId","match","params","cast","style","width","listStyle","height","src","profile_path","alt","original_title","character","Reviews","review","findReview","length","author","content","MovieDetailsPage","item","genres","findMovieDetailsPage","returnToPrevLocation","goBack","url","reduce","acc","onClick","navDescriptionList","backdrop_path","vote_average","overview","navDetailsList","path","component","App","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.08799494.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"activeLink\":\"MovieDetailsPage_activeLink__1w5En\",\"navDescriptionList\":\"MovieDetailsPage_navDescriptionList__xRVRA\",\"navDetailsList\":\"MovieDetailsPage_navDetailsList__22Kd_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activeLink\":\"Navigation_activeLink__2rUFB\",\"navigationList\":\"Navigation_navigationList__14jcF\"};","import axios from 'axios';\n\nconst keyQ = 'b8c07d967f5a7bfc4387519364b1cf54';\n\nexport const getHomePage = () =>\n  axios.get(`https://api.themoviedb.org/3/trending/all/day?api_key=${keyQ}`);\n\nexport const getMoviesPage = (query = 'Yoyo') =>\n  axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${keyQ}&language=en-US&query=${query}&page=1&include_adult=false`,\n  );\n\nexport const getMovieDetailsPage = id =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${keyQ}&language=en-US`,\n  );\n\nexport const getCast = id =>\n  axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${keyQ}`); //\n\nexport const getReview = id =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${keyQ}&language=en-US&page=1`,\n  );\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport T from 'prop-types';\nimport * as API from '../../services/api';\n\nclass HomePage extends Component {\n  static propTypes = {\n    history: T.shape({}).isRequired,\n    location: T.shape({}).isRequired,\n    match: T.shape({}).isRequired,\n  };\n\n  state = {\n    trends: [],\n  };\n\n  componentDidMount() {\n    this.findHomePage();\n  }\n\n  findHomePage = () => {\n    API.getHomePage().then(resData =>\n      this.setState({ trends: resData.data.results }),\n    );\n  };\n\n  render() {\n    const { trends } = this.state;\n\n    return (\n      <div>\n        <ul>\n          {trends.map(el => (\n            <li key={el.id}>\n              <Link to={`/movies/${el.id}`}>{el.title || el.name}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\nexport default HomePage;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: T.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  onChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  onSubmit = e => {\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    e.preventDefault();\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <>\n        <form onSubmit={this.onSubmit}>\n          <input value={value} type=\"text\" onChange={this.onChange} />\n          <button type=\"submit\">Search Movie</button>\n        </form>\n      </>\n    );\n  }\n}\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport T from 'prop-types';\nimport * as API from '../../services/api';\nimport SearchBar from '../../components/SearchBar/SearchBar';\n\nclass MoviesPage extends Component {\n  static propTypes = {\n    history: T.shape({}).isRequired,\n    location: T.shape({}).isRequired,\n    match: T.shape({}).isRequired,\n  };\n\n  state = {\n    shows: [],\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n    if (!currentSearch) {\n      return;\n    }\n    this.findMoviesPage(currentSearch);\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevSearch = new URLSearchParams(prevProps.location.search).get(\n      'search',\n    );\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n\n    if (prevSearch === currentSearch) {\n      return;\n    }\n    this.findMoviesPage(currentSearch);\n  }\n\n  findMoviesPage = q => {\n    API.getMoviesPage(q).then(res =>\n      this.setState({ shows: res.data.results }),\n    );\n  };\n\n  onSearchSubmit = query => {\n    const { history, location } = this.props;\n    history.push({\n      ...location,\n      search: `?search=${query}`,\n    });\n  };\n\n  render() {\n    const { shows } = this.state;\n    return (\n      <div>\n        <SearchBar onSubmit={this.onSearchSubmit} />\n        <ul>\n          {shows.map(el => (\n            <li key={el.id}>\n              <Link to={`/movies/${el.id}`}>{el.title}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\nexport default MoviesPage;\n","export default {\n  HOME: '/',\n  MOVIES_PAGE: '/movies/',\n  MOVIES_DETAILS: '/movies/:movieId',\n  MOVIES_CAST: '/movies/:movieId/cast',\n  MOVIE_REVIEWS: '/movies/:movieId/reviews',\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport routes from '../../routes';\n\nconst NotFoundPage = () => {\n  return (\n    <>\n      <div>\n        <span>\n          Запрошенная по ссылке страница не найдена, попробуйте обратиться к\n          разработчику!\n        </span>\n        <h3>\n          Ссылка на Домашнюю страницу:\n          <NavLink to={routes.HOME}> КЛИК-КЛИК-КЛИК!</NavLink>\n        </h3>\n      </div>\n    </>\n  );\n};\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Navigation.module.css';\nimport routes from '../../routes';\n\nconst Navigation = () => {\n  return (\n    <ul className={s.navigationList}>\n      <li>\n        <NavLink activeClassName={s.activeLink} to={routes.HOME}>\n          HOME PAGE\n        </NavLink>\n      </li>\n      <li>\n        <NavLink activeClassName={s.activeLink} to={routes.MOVIES_PAGE}>\n          MOVIES\n        </NavLink>\n      </li>\n    </ul>\n  );\n};\n\nexport default Navigation;\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport * as API from '../../services/api';\n\nexport default class Cast extends Component {\n  state = {\n    casts: '',\n  };\n\n  componentDidMount() {\n    this.findCast();\n  }\n\n  findCast = () => {\n    const { match } = this.props;\n    const { movieId } = match.params;\n\n    API.getCast(movieId).then(resData =>\n      this.setState({ casts: resData.data.cast }),\n    );\n  };\n\n  render() {\n    const { casts } = this.state;\n    return (\n      <div>\n        {casts && (\n          <>\n            <ul\n              style={{\n                width: '500px',\n                listStyle: 'none',\n              }}\n            >\n              {casts.map(el => (\n                <li key={el.id}>\n                  <img\n                    style={{ width: '210px', height: '300px' }}\n                    src={`https://image.tmdb.org/t/p/w500${el.profile_path}`}\n                    alt={el.original_title}\n                  />\n                  <p>{el.name}</p>\n                  <p>{el.character}</p>\n                </li>\n              ))}\n              )\n            </ul>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport * as API from '../../services/api';\n\nexport default class Reviews extends Component {\n  state = {\n    review: {\n      results: [],\n    },\n  };\n\n  componentDidMount() {\n    this.findReview();\n  }\n\n  findReview = () => {\n    const { match } = this.props;\n    const { movieId } = match.params;\n\n    API.getReview(movieId).then(res => this.setState({ review: res.data }));\n  };\n\n  render() {\n    const { review } = this.state;\n    return (\n      <div>\n        {review.results && review.results.length > 0 && (\n          <>\n            <ul\n              style={{\n                width: '500px',\n                listStyle: 'none',\n              }}\n            >\n              {review.results.map(el => (\n                <li key={el.id}>\n                  <h4>{el.author}</h4>\n                  <p>{el.content}</p>\n                </li>\n              ))}\n            </ul>\n          </>\n        )}\n        {review.results.length === 0 && (\n          <div>\n            <h4>Ничего не найдено по Вашему запросу</h4>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport T from 'prop-types';\nimport { Route, Switch, NavLink } from 'react-router-dom';\nimport routes from '../../routes';\nimport * as API from '../../services/api';\nimport Cast from '../Cast/Cast';\nimport Reviews from '../Reviews/Reviews';\nimport s from './MovieDetailsPage.module.css';\n\nexport default class MovieDetailsPage extends Component {\n  static propTypes = {\n    history: T.shape({\n      goBack: T.func.isRequired,\n    }).isRequired,\n    location: T.shape({}).isRequired,\n    match: T.shape({\n      url: T.string.isRequired,\n      // params: PropTypes.string.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    item: {\n      genres: [],\n    },\n  };\n\n  componentDidMount() {\n    this.findMovieDetailsPage();\n  }\n\n  findMovieDetailsPage = () => {\n    const { match } = this.props;\n    const { movieId } = match.params;\n\n    API.getMovieDetailsPage(movieId).then(res =>\n      this.setState({ item: res.data }),\n    );\n  };\n\n  returnToPrevLocation = () => {\n    const { history } = this.props;\n    history.goBack();\n  };\n\n  render() {\n    const { match } = this.props;\n    const { item } = this.state;\n    const { url } = match;\n    const genres = item.genres.reduce((acc, el) => `${acc} ${el.name}`, '');\n\n    return (\n      <div>\n        <button type=\"button\" onClick={this.returnToPrevLocation}>\n          Go back\n        </button>\n        {item && (\n          <>\n            <ul className={s.navDescriptionList}>\n              <li>\n                <img\n                  src={`https://image.tmdb.org/t/p/w500${item.backdrop_path}`}\n                  alt={item.original_title}\n                />\n              </li>\n              <li>\n                <h3>{item.original_title}</h3>\n                <p>User score {item.vote_average * 10}%</p>\n                <h3>Overview</h3>\n                <p>{item.overview}</p>\n                <h3>Genres</h3>\n                <p>{genres}</p>\n              </li>\n            </ul>\n          </>\n        )}\n        <h2>Additional information</h2>\n        <ul className={s.navDetailsList}>\n          <li>\n            <NavLink activeClassName={s.activeLink} to={`${url}/cast`}>\n              Cast\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeClassName={s.activeLink} to={`${url}/reviews`}>\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n        <Switch>\n          <Route path={routes.MOVIES_CAST} component={Cast} />\n          <Route path={routes.MOVIE_REVIEWS} component={Reviews} />\n        </Switch>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport HomePage from '../pages/HomePage/HomePage';\nimport MoviesPage from '../pages/MoviesPage/MoviesPage';\nimport NotFoundPage from '../pages/NotFoundPage/NotFoundPage';\nimport routes from '../routes';\nimport Navigation from './Navigation/Navigation';\nimport MovieDetailsPage from '../pages/MovieDetailsPage/MovieDetailsPage';\n\nclass App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <>\n        <Navigation />\n        <Switch>\n          <Route exact path={routes.HOME} component={HomePage} />\n          <Route path={routes.MOVIES_DETAILS} component={MovieDetailsPage} />\n          <Route path={routes.MOVIES_PAGE} component={MoviesPage} />\n          <Route component={NotFoundPage} />\n        </Switch>\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}